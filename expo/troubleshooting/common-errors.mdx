---
title: "Common Errors"
description: "Solutions for common RampKit SDK issues"
---

## Installation Issues

### Native Module Not Found

```
Error: Cannot find native module 'RampKit'
```

**Solution:**
1. Ensure you've installed peer dependencies:
   ```bash
   npx expo install react-native-webview react-native-pager-view react-native-root-siblings
   ```
2. For bare React Native, run `npx pod-install`
3. Rebuild your app: `npx expo run:ios` or `npx expo run:android`

### Peer Dependency Warnings

```
warning "rampkit-expo-dev" has unmet peer dependency "react-native-webview@*"
```

**Solution:** Install the missing peer dependencies:
```bash
npx expo install react-native-webview react-native-pager-view react-native-root-siblings
```

## Initialization Issues

### Onboarding Not Showing

If `showOnboarding()` does nothing:

1. **Check initialization:**
   ```typescript
   console.log("Initialized:", RampKit.isInitialized());
   console.log("Onboarding data:", RampKit.getOnboardingData());
   ```

2. **Verify app ID:**
   ```typescript
   await RampKit.init({ appId: "YOUR_ACTUAL_APP_ID" });
   ```

3. **Check for network issues:**
   - Ensure your device has internet access
   - Check if the manifest URL is accessible

### Events Not Being Tracked

If events aren't appearing in the dashboard:

1. **Check initialization timing:**
   ```typescript
   // Ensure init completes before tracking
   await RampKit.init({ appId: "YOUR_APP_ID" });
   RampKit.trackEvent("test_event", {});
   ```

2. **Verify event manager is initialized:**
   ```typescript
   import { eventManager } from "rampkit-expo-dev";
   console.log("Event manager ready:", eventManager.isInitialized());
   ```

## WebView Issues

### Blank Screen in Onboarding

If the onboarding shows a blank screen:

1. **Check for JavaScript errors:**
   - Enable remote debugging
   - Check the Metro bundler console

2. **Verify HTML content:**
   ```typescript
   const data = RampKit.getOnboardingData();
   console.log("First screen HTML:", data?.screens?.[0]?.html);
   ```

3. **Check template resolution:**
   - Ensure device context is being passed correctly
   - Look for unresolved `${device.*}` or `${user.*}` placeholders

### Variables Not Syncing

If variables aren't shared between screens:

1. **Use correct message format:**
   ```javascript
   // Correct
   window.ReactNativeWebView.postMessage(JSON.stringify({
     type: 'rampkit:variables',
     vars: { key: 'value' }
   }));
   
   // Incorrect - missing JSON.stringify
   window.ReactNativeWebView.postMessage({
     type: 'rampkit:variables',
     vars: { key: 'value' }
   });
   ```

2. **Listen for updates correctly:**
   ```javascript
   document.addEventListener('rampkit:vars-updated', (e) => {
     console.log('Received vars:', e.detail);
   });
   ```

## Native API Issues

### Haptics Not Working

```typescript
import { Haptics } from "rampkit-expo-dev";
await Haptics.impactAsync("medium"); // No haptic felt
```

**Possible causes:**
- Running on simulator (no haptic motor)
- Device doesn't support haptics
- Silent mode on iOS

**Solution:** Test on a real device with sound/haptics enabled.

### Store Review Not Appearing

```typescript
await StoreReview.requestReview(); // Nothing happens
```

**Possible causes:**
- Already shown recently (rate limited by OS)
- App not installed from store (development builds)
- Conditions not met (new install, minimal usage)

**Solution:** The OS decides when to show the review prompt. It's not guaranteed to appear.

### Notification Permission Denied

```typescript
const result = await Notifications.requestPermissionsAsync();
// result.granted is false
```

**Possible causes:**
- User previously denied permission
- Permission already granted

**Solution:** Check current status first:
```typescript
const status = await Notifications.getPermissionsAsync();
if (status.status === 'denied' && !status.canAskAgain) {
  // Direct user to Settings
}
```

## Performance Issues

### Slow Onboarding Load

If the onboarding takes too long to appear:

1. **Check network:**
   - Verify manifest CDN is accessible
   - Check for slow network conditions

2. **Enable preloading:**
   ```typescript
   // The SDK preloads automatically, but ensure init is called early
   await RampKit.init({ appId: "YOUR_APP_ID" });
   // Onboarding loads in background
   
   // Later, when you need it:
   RampKit.showOnboarding(); // Should be instant
   ```

### Animation Jank

If transitions are choppy:

1. Avoid heavy JavaScript in screen transitions
2. Keep DOM complexity reasonable
3. Use `slideFade` animation for smoother feel:
   ```javascript
   window.ReactNativeWebView.postMessage(JSON.stringify({
     type: 'rampkit:continue',
     animation: 'slideFade'
   }));
   ```

## Debug Checklist

<Steps>
  <Step title="Enable Debug Mode">
    ```typescript
    await RampKit.init({
      appId: "YOUR_APP_ID",
      environment: "development"
    });
    ```
  </Step>
  <Step title="Check Logs">
    Look for `[RampKit]` prefixed logs in the console
  </Step>
  <Step title="Verify Device Info">
    ```typescript
    console.log(RampKit.getDeviceInfo());
    ```
  </Step>
  <Step title="Test on Real Device">
    Many features (haptics, purchases) require real devices
  </Step>
</Steps>

<Note>
If you encounter issues not listed here, check the [GitHub Issues](https://github.com/getrampkit/rampkit-expo/issues) or contact support at hello@rampkit.com.
</Note>
