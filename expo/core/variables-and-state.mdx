---
title: "Variables & State"
description: "Manage shared state across screens with template variables"
---

RampKit provides a variable system for personalized onboarding experiences. Variables are shared across all screens.

## Template Variables

Your onboarding content can include template variables:

```html
<h1>Welcome${user.isNewUser ? "" : " back"}!</h1>
<p>You're on ${device.platform}</p>
<p>Local currency: ${device.currencySymbol}</p>
```

## Device Context

| Variable | Example |
|----------|---------|
| `${device.platform}` | `"iOS"`, `"Android"` |
| `${device.model}` | `"iPhone 15 Pro"` |
| `${device.locale}` | `"en_US"` |
| `${device.language}` | `"en"` |
| `${device.country}` | `"US"` |
| `${device.currencyCode}` | `"USD"` |
| `${device.currencySymbol}` | `"$"` |
| `${device.interfaceStyle}` | `"light"`, `"dark"` |
| `${device.daysSinceInstall}` | `3` |

## User Context

| Variable | Example |
|----------|---------|
| `${user.id}` | `"rk_abc123..."` |
| `${user.isNewUser}` | `true`, `false` |
| `${user.sessionId}` | `"session_xyz..."` |

## Conditional Expressions

```html
<!-- Boolean conditions -->
<p>${user.isNewUser ? "Start your journey" : "Welcome back"}</p>

<!-- Comparisons -->
<p>${device.daysSinceInstall > 7 ? "You're a regular!" : "Getting started"}</p>

<!-- Platform-specific -->
<button>${device.platform == "iOS" ? "Continue with Apple" : "Continue with Google"}</button>
```

## State Variables

Variables persist across screens and sync in real-time:

```javascript
// Set variables
window.ReactNativeWebView.postMessage(JSON.stringify({
  type: 'rampkit:variables',
  vars: {
    selectedGoal: 'weight_loss',
    selectedPlan: 'premium'
  }
}));
```

## Listening for Updates

```javascript
// Listen for variable updates from other screens
document.addEventListener('rampkit:vars-updated', (event) => {
  const vars = event.detail;
  console.log('Variables updated:', vars);
  
  if (vars.selectedPlan) {
    updatePlanDisplay(vars.selectedPlan);
  }
});
```

## Accessing Variables

```javascript
// Access current variables
const vars = window.__rampkitVariables || {};
console.log('Selected goal:', vars.selectedGoal);
```

<Tip>
- Use device context for **localization** (currency, language)
- Use user context for **personalization** (new vs. returning)
- Use state variables for **user choices** during onboarding
</Tip>
