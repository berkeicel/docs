---
title: "Event Forwarding"
description: "Forward RampKit events to your analytics provider"
---

RampKit automatically sends events to the RampKit backend. You can also forward these events to your own analytics provider (Amplitude, Mixpanel, Firebase, etc.).

## Event Manager Access

Access the event manager for direct event handling:

```typescript
import { eventManager } from "rampkit-expo-dev";
```

## All Events

Track any event with custom properties:

```typescript
import { RampKit } from "rampkit-expo-dev";

// Using the main SDK
RampKit.trackEvent("custom_action", {
  buttonId: "upgrade_cta",
  screen: "pricing",
  value: 29.99,
});

// With context override
RampKit.trackEvent(
  "feature_used",
  { featureName: "dark_mode" },
  { screenName: "settings", flowId: "onboarding_v2" }
);
```

## Forward to Amplitude

```typescript
import { eventManager } from "rampkit-expo-dev";
import * as Amplitude from "@amplitude/analytics-react-native";

// Wrap the track method
const originalTrack = eventManager.track.bind(eventManager);

eventManager.track = async (eventName, properties, context) => {
  // Send to RampKit backend
  await originalTrack(eventName, properties, context);
  
  // Forward to Amplitude
  Amplitude.track(eventName, {
    ...properties,
    rampkit_flow_id: context?.flowId,
    rampkit_screen: context?.screenName,
  });
};
```

## Forward to Mixpanel

```typescript
import { eventManager } from "rampkit-expo-dev";
import { Mixpanel } from "mixpanel-react-native";

const mixpanel = new Mixpanel("YOUR_TOKEN");

// After RampKit init
const originalTrack = eventManager.track.bind(eventManager);

eventManager.track = async (eventName, properties, context) => {
  await originalTrack(eventName, properties, context);
  
  mixpanel.track(eventName, {
    ...properties,
    flow_id: context?.flowId,
    variant_id: context?.variantId,
  });
};
```

## Forward to Firebase Analytics

```typescript
import { eventManager } from "rampkit-expo-dev";
import analytics from "@react-native-firebase/analytics";

const originalTrack = eventManager.track.bind(eventManager);

eventManager.track = async (eventName, properties, context) => {
  await originalTrack(eventName, properties, context);
  
  // Firebase event names must be <= 40 chars, alphanumeric
  const firebaseEventName = eventName.replace(/[^a-zA-Z0-9_]/g, "_").slice(0, 40);
  
  await analytics().logEvent(firebaseEventName, {
    ...properties,
    flow_id: context?.flowId,
  });
};
```

## Selective Forwarding

Forward only specific events:

```typescript
const eventsToForward = [
  "onboarding_started",
  "onboarding_completed",
  "purchase_completed",
];

eventManager.track = async (eventName, properties, context) => {
  await originalTrack(eventName, properties, context);
  
  if (eventsToForward.includes(eventName)) {
    myAnalytics.track(eventName, properties);
  }
};
```

## Event Types

All RampKit event names:

```typescript
type RampKitEventName =
  // App Lifecycle
  | "app_session_started"
  | "app_session_ended"
  | "app_backgrounded"
  | "app_foregrounded"
  // Onboarding
  | "onboarding_started"
  | "onboarding_screen_viewed"
  | "onboarding_question_answered"
  | "onboarding_completed"
  | "onboarding_abandoned"
  // Navigation
  | "screen_view"
  | "cta_tap"
  // Permissions
  | "notifications_prompt_shown"
  | "notifications_response"
  // Paywall
  | "paywall_shown"
  | "paywall_primary_action_tap"
  | "paywall_closed"
  // Purchases
  | "purchase_started"
  | "purchase_completed"
  | "purchase_failed";
```

## Event Context

Events include contextual information:

```typescript
interface EventContext {
  screenName: string | null;   // Current screen
  flowId: string | null;       // Onboarding flow ID
  variantId: string | null;    // A/B test variant
  paywallId: string | null;    // Current paywall
  locale: string | null;       // User's locale
  regionCode: string | null;   // User's region
  placement: string | null;    // Where shown
}
```

<Tip>
For A/B testing analysis, always include `flowId` and `variantId` in your forwarded events. This allows you to segment users by which onboarding variant they saw.
</Tip>
